<%- include('../partials/header.ejs')%>
<main>
    <div class="event-detail">
        <h2><%= event.title %></h2>
        <% if (successMessages && successMessages.length > 0) { %>
            <div class="success-messages">
                <% successMessages.forEach(message => { %>
                    <p class="success"><%= message %></p>
                <% }); %>
            </div>
        <% } %>
        <img src="<%= event.image %>" alt="<%= event.title %>">
        <p><strong>Category:</strong> <%= event.category %></p>
        <p><strong>Host:</strong> <%= event.host.firstName %> <%= event.host.lastName %></p>
        <p><strong>Date:</strong> <%= event.startDateTime.toLocaleDateString() %></p>
        <p><strong>Time:</strong> <%= event.startDateTime.toLocaleTimeString() %> - <%= event.endDateTime.toLocaleTimeString() %></p>
        <p><strong>Location:</strong> <%= event.location %></p>
        <p><strong>Description:</strong> <%= event.description %></p>
        
        <% if(user && user.id === event.host._id.toString()) { %>
            <div class="event-actions">
                <a href="/events/<%= event._id %>/edit" class="btn">Edit</a>
                <form action="/events/<%= event._id %>?_method=DELETE" method="POST" class="inline-form">
                    <button type="submit" class="btn delete">Delete</button>
                </form>
            </div>
        <% } %>
        <a href="/events" class="btn">Back to Events</a>
    </div>
</main>
<%- include('../partials/footer.ejs')%> 
<%- include('../partials/header.ejs')%>
<!-- MVC Pattern: View -->
<!-- This file handles the presentation layer -->

<main>
    <!-- Display data received from Controller -->
    <div class="event-detail">
        <h2><%= event.title %></h2>
        
        <!-- View handles presentation of Model data -->
        <p><strong>Host:</strong> <%= event.host.firstName %> <%= event.host.lastName %></p>
        
        <!-- View contains presentation logic -->
        <% if(user && user.id === event.host._id.toString()) { %>
            <div class="event-actions">
                <!-- View sends user actions back to Controller -->
                <a href="/events/<%= event._id %>/edit" class="btn">Edit</a>
                <form action="/events/<%= event._id %>?_method=DELETE" method="POST">
                    <button type="submit" class="btn delete">Delete</button>
                </form>
            </div>
        <% } %>
    </div>
</main>
<%- include('../partials/footer.ejs')%> 